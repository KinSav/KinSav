<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Bloodlines</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Montserrat:wght@400;600&family=UnifrakturCook:wght@700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="https://img.icons8.com/color/64/000000/vampire.png">
  <style>
    body { margin:0; padding-bottom:90px; background: linear-gradient(120deg,#12030a 70%,#1c1727 95%); color:#F8F8FF;font-family:'Montserrat',Arial,sans-serif; }
    .bloodlines-title { font-family:'Cinzel',serif;font-size:3em;color:#C3073F;text-shadow:0 2px 12px #A31B44,0 0 24px #0008;letter-spacing:0.1em;text-align:center;margin-top:1.5em; }
    .subtitle { text-align:center;font-size:1.1em;font-family:'UnifrakturCook','Cinzel',serif,'Montserrat',Arial;color:#db7aff;font-weight:700;letter-spacing:0.04em;text-shadow:0 0 4px #db7aff,0 0 14px #db7aff,0 1.2px 12px #db7aff,0 0 5px #fff2;margin-top:0.4em; }
    .content-wrap { display:flex;flex-direction:row;justify-content:center;align-items:flex-start;gap:2em;margin:0 auto;max-width:1100px;width:100%; }
    .gallery { display:flex;flex-direction:column;align-items:center;gap:1.5em;padding:2em 0.5em 2em 0.5em;flex:2 1 370px;min-width:0;max-width:700px;}
    .row-gallery { display:flex;flex-wrap:wrap;gap:1em;justify-content:center;width:100%; }
    .video-card { background:rgba(29,25,46,0.97);box-shadow:0 8px 30px #000a;border-radius:1.7em;padding:1em 0.8em 1.2em 0.8em;max-width:300px;min-width:180px;display:flex;flex-direction:column;align-items:center;border:1.5px solid #A31B44;transition:transform 0.2s; }
    .video-card:hover { transform:translateY(-4px) scale(1.025);border-color:#C3073F;box-shadow:0 8px 24px #A31B44bb; }
    .video-title { font-family:'Cinzel',serif;font-size:1.18em;font-weight:700;margin:0.5em 0 0.25em 0;color:#C3073F;text-shadow:0 1px 8px #000c;letter-spacing:0.04em;text-align:center; }
    .btn-row { display:flex;gap:0.42em;margin-top:0.35em;flex-wrap:wrap;justify-content:center; }
    .queue-btn,.loop-btn { border:none;border-radius:7px;cursor:pointer;background:#1a1420;color:#db7aff;font-family:'UnifrakturCook','Cinzel',serif,'Montserrat',Arial;font-size:0.86em;letter-spacing:0.02em;margin-top:0.1em;font-weight:700;padding:0.11em 0.8em 0.11em 0.8em;transition:box-shadow 0.12s,background 0.15s,color 0.15s,outline 0.15s;outline:1.1px solid #A31B44;text-shadow:0 1px 6px #8e44ad7a,0 2px 8px #0008;box-shadow:0 0 0 #0000;margin-right:0.07em; }
    .queue-btn.active { color:#C3073F;background:#401220;box-shadow:0 0 9px #C3073F,0 0 2px #fff1;text-shadow:0 0 7px #C3073F,0 1.5px 6px #fff4;outline:1.1px solid #C3073F;}
    .loop-btn { font-size:0.78em;margin-left:0.08em; }
    .loop-btn.active { color:#C3073F;background:#3a0c16;box-shadow:0 0 8px #C3073F,0 0 2px #fff1;text-shadow:0 0 8px #C3073F,0 1px 6px #fff2;outline:1.2px solid #C3073F;}
    .queue-section { background:#201325f0;border:2px solid #57092c;border-radius:20px;margin-top:1.5em;box-shadow:0 0 16px #9e145555,0 2px 8px #14041277;padding:1em 0.7em 1.2em 0.7em;max-width:260px;min-width:160px;width:100%;display:flex;flex-direction:column;align-items:center;position:sticky;top:1.7em;z-index:10;flex:1 1 220px;}
    .queue-title { font-family:'UnifrakturCook','Cinzel',serif,'Montserrat',Arial;font-size:1.23em;color:#C3073F;margin-bottom:0.5em;text-shadow:0 1.5px 8px #C3073Fbb,0 2px 8px #0009;}
    ul.queued-list { width:98%;list-style:none;padding:0;margin:0 0 1em 0;}
    .queued-item { font-family:'Cinzel',serif;color:#faf6ec;font-size:0.88em;margin:0 0 0.19em 0;padding:0.24em 0.36em;background:#2d1530c0;border-radius:6px;box-shadow:0 1px 6px #a31b4444;display:flex;align-items:center;justify-content:space-between;gap:0.11em;border-left:2px solid #A31B44;transition:background 0.12s;min-height:1em;}
    .queued-item.current {color:#C3073F;background:#3d233ecc;border-left:2px solid #C3073F;font-weight:bold;text-shadow:0 0 4px #C3073F;}
    .play-btn,.remove-btn {padding:0.01em 0.25em;border:none;font-size:1em;font-family:'UnifrakturCook','Cinzel',serif,'Montserrat',Arial;border-radius:0.29em;background:#1c0106;color:#db7aff;cursor:pointer;transition:background 0.11s,color 0.11s;margin-left:0.1em;margin-right:0.03em;width:1.85em;height:1.85em;display:inline-flex;align-items:center;justify-content:center;}
    .queued-item .remove-btn {color:#e84c4c;background:#1c0106;}
    .queued-item .play-btn {font-size:1.22em;background:#1c0106;color:#db7aff;line-height:1;}
    .queue-controls { margin-bottom:0.55em;display:flex;gap:0.56em;flex-wrap:wrap;justify-content:center;}
    .queue-controls button { font-size:0.83em;padding:0.13em 0.8em;font-family:'UnifrakturCook','Cinzel',serif,'Montserrat',Arial;border:none;border-radius:7px;cursor:pointer;color:#C3073F;background:#230616;outline:1px solid #A31B44;transition:all 0.13s;font-weight:700;text-shadow:0 0 7px #A31B44,0 1.5px 8px #0008;}
    .queue-controls button:hover { background:#C3073F;color:#fff;outline:1px solid #fff;text-shadow:0 0 10px #fff8;}
    #queue-video { display:none; width:98%; max-width:250px; border-radius:10px; margin:0.6em auto 0.75em auto; outline:2px solid #a31b44; background:#22201a;}
    @media (max-width:1100px) { .content-wrap {flex-direction:column;align-items:center;gap:0.5em;max-width:99vw;}
      .queue-section {position:static;max-width:96vw;width:97vw;margin-top:1em;order:2;min-width:unset;}
      .gallery {order:1;max-width:98vw;}
      #queue-video { max-width:97vw; }
    }
    @media (max-width:700px) {
      .content-wrap {flex-direction:column;align-items:center;gap:0.18em;width:100vw;max-width:100vw;}
      .queue-section {margin-top:0.8em;min-width:unset;width:98vw;box-sizing:border-box;padding:0.62em 0.2em 1em 0.2em;}
      .gallery {padding:0.7em 0.05em 2em 0.05em;gap:0.9em;max-width:100vw;}
      .row-gallery {flex-direction:column;align-items:center;gap:0.9em;width:100vw;}
      .video-card {max-width:98vw;min-width:unset;padding:0.8em 0.02em 1em 0.02em;}
      video {max-width:96vw;min-width:80px;}
      #queue-video { max-width:99vw; }
    }
    .footer-glow-area { position:fixed;left:0;right:0;bottom:0;width:100vw;z-index:99;height:58px;pointer-events:none;background:transparent;display:flex;align-items:flex-end;justify-content:center;}
    .footer-glow-copyright { position:absolute;left:50%;bottom:10px;transform:translateX(-50%);font-family:'UnifrakturCook',serif;font-size:0.84em;color:#fff7;padding:3px 1.25em 2.5px 1.25em;letter-spacing:0.07em;border-radius:10px;background:rgba(30,13,36,0.18);box-shadow:0 0 10px 2px #db7aff55;text-shadow:0 0 4px #db7aff,0 2px 7px #db7aff99;font-weight:700;pointer-events:none;user-select:none;box-sizing:border-box;text-align:center;transition:font-size 0.2s;}
    @media (max-width:700px){
      .footer-glow-area { height:32px;}
      .footer-glow-copyright { font-size:0.62em;padding:3px 0.7em 2.5px 0.7em;bottom:2px;}
      body {padding-bottom:42px;}
    }
  </style>
</head>
<body>
  <header>
    <div class="bloodlines-title">Bloodlines</div>
    <div class="subtitle">Vampire: The Masquerade Instrumentals by KinSav</div>
  </header>
  <div class="content-wrap">
    <section class="gallery">
      <div class="video-card" data-title="Toreador ðŸ¥€" data-src="Toreador ðŸ¥€.mp4">
        <div class="video-title">Toreador <span aria-label="rose" title="rose">ðŸ¥€</span></div>
        <video controls preload="metadata" src="Toreador ðŸ¥€.mp4" allowfullscreen></video>
        <div class="btn-row">
          <button class="queue-btn" onclick="addToQueue(this)">Add to Queue</button>
          <button class="loop-btn" onclick="toggleLoop(this)">Loop: Off</button>
        </div>
      </div>
      <div class="row-gallery">
        <div class="video-card" data-title="Daughter of Janus" data-src="Daughter of Janus.mp4">
          <div class="video-title">Daughter of Janus</div>
          <video controls preload="metadata" src="Daughter of Janus.mp4" allowfullscreen></video>
          <div class="btn-row">
            <button class="queue-btn" onclick="addToQueue(this)">Add to Queue</button>
            <button class="loop-btn" onclick="toggleLoop(this)">Loop: Off</button>
          </div>
        </div>
        <div class="video-card" data-title="Malkavian" data-src="Malkavian.mp4">
          <div class="video-title">Malkavian</div>
          <video controls preload="metadata" src="Malkavian.mp4" allowfullscreen></video>
          <div class="btn-row">
            <button class="queue-btn" onclick="addToQueue(this)">Add to Queue</button>
            <button class="loop-btn" onclick="toggleLoop(this)">Loop: Off</button>
          </div>
        </div>
        <div class="video-card" data-title="Nosferatu" data-src="Nosferatu.mp4">
          <div class="video-title">Nosferatu</div>
          <video controls preload="metadata" src="Nosferatu.mp4" allowfullscreen></video>
          <div class="btn-row">
            <button class="queue-btn" onclick="addToQueue(this)">Add to Queue</button>
            <button class="loop-btn" onclick="toggleLoop(this)">Loop: Off</button>
          </div>
        </div>
      </div>
    </section>
    <aside class="queue-section" id="queue-section">
      <div class="queue-title">Song Queue</div>
      <video id="queue-video" controls preload="metadata"></video>
      <div class="queue-controls">
        <button onclick="playQueue()">Play Queue</button>
        <button onclick="skipQueue()">Skip</button>
        <button onclick="clearQueue()">Clear Queue</button>
      </div>
      <ul class="queued-list" id="queued-list"></ul>
    </aside>
  </div>
  <div class="footer-glow-area">
    <span class="footer-glow-copyright">
      &copy; 2025 KinSav
    </span>
  </div>
  <script>
    // Main song list (video only, for both queue and gallery)
    const allSongs = [
      { title: "Toreador ðŸ¥€", src: "Toreador ðŸ¥€.mp4" },
      { title: "Daughter of Janus", src: "Daughter of Janus.mp4" },
      { title: "Malkavian", src: "Malkavian.mp4" },
      { title: "Nosferatu", src: "Nosferatu.mp4" }
    ];
    let queue = [];
    let currentQueueIndex = -1;
    let queueVideo = null;
    window.addEventListener("DOMContentLoaded", function() {
      queueVideo = document.getElementById("queue-video");
      updateQueueDisplay();
      queueVideo.addEventListener("ended", onQueueVideoEnded);
    });

    function addToQueue(btn) {
      const card = btn.closest('.video-card');
      const title = card.getAttribute('data-title');
      const src = card.getAttribute('data-src');
      if (queue.findIndex(q => q.src === src) !== -1) return;
      queue.push({ title, src });
      updateQueueDisplay();
      btn.classList.add('active');
      btn.textContent = 'Queued!';
    }
    function removeFromQueue(idx) {
      const removed = queue.splice(idx, 1)[0];
      updateQueueDisplay();
      document.querySelectorAll('.video-card').forEach(card => {
        if (card.getAttribute('data-src') === removed.src) {
          let btn = card.querySelector('.queue-btn');
          btn.classList.remove('active');
          btn.textContent = 'Add to Queue';
        }
      });
      if (currentQueueIndex === idx) stopQueue();
      else if (currentQueueIndex > idx) currentQueueIndex--;
    }
    function clearQueue() {
      queue = [];
      currentQueueIndex = -1;
      updateQueueDisplay();
      document.querySelectorAll('.queue-btn').forEach(btn => {
        btn.classList.remove('active');
        btn.textContent = 'Add to Queue';
      });
      stopQueue();
    }
    function updateQueueDisplay() {
      const list = document.getElementById('queued-list');
      list.innerHTML = '';
      queue.forEach((song, i) => {
        const li = document.createElement('li');
        li.className = 'queued-item' + (i === currentQueueIndex ? ' current' : '');
        li.innerHTML = `
          <span>${song.title}</span>
          <span>
            <button class="play-btn" onclick="playFromQueue(${i})" title="Play">ðŸŽ¸</button>
            <button class="remove-btn" onclick="removeFromQueue(${i})" title="Remove">&#10005;</button>
          </span>
        `;
        list.appendChild(li);
      });
      // Show/hide the queue player based on queue state
      if (queueVideo) queueVideo.style.display = queue.length === 0 ? "none" : "block";
    }
    function playQueue() {
      if (queue.length === 0) return;
      playFromQueue(0);
    }
    function skipQueue() {
      if (queue.length === 0) return;
      if (currentQueueIndex === -1 || currentQueueIndex >= queue.length - 1) {
        playFromQueue(0); // wrap
      } else {
        playFromQueue(currentQueueIndex + 1);
      }
    }
    function playFromQueue(idx) {
      if (queue.length === 0) return;
      if (!queueVideo) queueVideo = document.getElementById("queue-video");
      currentQueueIndex = idx;
      updateQueueDisplay();
      const song = queue[idx];
      queueVideo.src = song.src;
      queueVideo.currentTime = 0;
      queueVideo.loop = false; // Queue ignores loop; single videos in gallery can be looped
      queueVideo.style.display = "block";
      queueVideo.play();
    }
    function stopQueue() {
      if (queueVideo) {
        queueVideo.pause();
        queueVideo.src = "";
        queueVideo.style.display = "none";
      }
      currentQueueIndex = -1;
      updateQueueDisplay();
    }
    function onQueueVideoEnded() {
      // Only advance if not looping (video player handles loop independently)
      if (queue.length === 0) return;
      if (currentQueueIndex < queue.length - 1) {
        playFromQueue(currentQueueIndex + 1);
      } else {
        playFromQueue(0); // cycle endlessly
      }
    }
    // Loop per-video (gallery)
    function toggleLoop(btn) {
      const video = btn.parentElement.parentElement.querySelector("video");
      video.loop = !video.loop;
      if(video.loop) {
        btn.classList.add("active");
        btn.textContent = "Loop: On";
      } else {
        btn.classList.remove("active");
        btn.textContent = "Loop: Off";
      }
    }
    // Individual video views in gallery pause queue
    document.querySelectorAll('.video-card video').forEach((vid) => {
      vid.addEventListener('play', function() {
        stopQueue();
      });
    });
    document.querySelectorAll("video").forEach((vid) => {
      if (!vid.hasAttribute("allowfullscreen")) vid.setAttribute("allowfullscreen", "allowfullscreen");
      vid.addEventListener('dblclick', function() {
        if (vid.requestFullscreen) vid.requestFullscreen();
        else if (vid.webkitRequestFullscreen) vid.webkitRequestFullscreen();
        else if (vid.mozRequestFullScreen) vid.mozRequestFullScreen();
        else if (vid.msRequestFullscreen) vid.msRequestFullscreen();
      });
    });
    window.addEventListener("resize", updateQueueDisplay);
  </script>
</body>
</html>
